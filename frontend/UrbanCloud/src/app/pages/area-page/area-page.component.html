<div class="body">
  <div class="content" fxLayout="row" fxLayout.xs="column">
    <div class="col-1" fxFlex="70%">
      <div class="wrapper-data">
        <mat-card class="card main-card">
          <mat-card-header class="header">
            <mat-card-title class="card-title">
              {{ cutText(areaObj.title, 20) }}
            </mat-card-title>
          </mat-card-header>
          <mat-card-content class="card-content">
            <p *ngIf="!descriptionExpanded; else expanded">
              {{ cutText(areaObj.description, 200) }}
            </p>
            <ng-template #expanded>
              <p>{{ areaObj.description }}</p>
            </ng-template>
            <button
              class="button"
              mat-button
              (click)="descriptionExpanded = !descriptionExpanded"
            >
              Läs mer
            </button>
          </mat-card-content>
          <mat-card-subtitle *ngIf="includesObjects.length > 0"
            >Innefattar</mat-card-subtitle
          >
          <mat-card-actions>
            <div
              class="top-container"
              fxLayout="row wrap"
              fxLayoutAlign="start start"
              fxLayout.xs="column"
              fxLayoutGap="20px"
            >
              <div
                *ngFor="let obj of includesObjects.slice(0, viewIncludesIdx)"
                fxFlex="45%"
                class="child child-1"
              >
                <mat-card class="card mat-elevation-z4">
                  <mat-card-header class="header">
                    <mat-card-title class="card-title">
                      {{ cutText(obj.title, 20) }}
                    </mat-card-title>
                  </mat-card-header>
                  <mat-card-content class="card-content">
                    <p>
                      {{ cutText(obj.description, 100) }}
                    </p>
                  </mat-card-content>
                </mat-card>
              </div>
            </div>
            <div
              *ngIf="!includesExpanded && includesObjects.length > 4"
              class="show-more-wrapper"
            >
              <button
                class="button"
                mat-button
                (click)="toggleViewMoreIncludeObj()"
              >
                Se fler
              </button>
            </div>
            <div
              *ngIf="includesExpanded && includesObjects.length > 4"
              class="show-less-wrapper"
            >
              <button
                class="button"
                mat-button
                (click)="toggleViewMoreIncludeObj()"
              >
                Se färre
              </button>
            </div>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
    <div class="col-2" fxFlex="30%">
      <div class="side-wrapper">
        <div class="title"><h1>Relaterade områden</h1></div>
        <!-- <ul [ngStyle]="{ 'list-style': 'none;' }"> -->
        <div
          class="relatedlist"
          style="margin-bottom: 20px"
          *ngFor="let obj of relatedAreasObj"
        >
          <span
            class="relatedtitle"
            style="font-weight: bold; font-family: Arial, Helvetica, sans-serif"
            >{{ cutText(obj.title, 25) }}</span
          >
          <br />
          <span
            class="relateddesc"
            style="font-family: Arial, Helvetica, sans-serif"
            >{{ cutText(obj.description, 90) }}</span
          >
        </div>
        <!-- </ul> -->
        <br />
        <h3>Aktörer inom {{ areaObj.title }}</h3>
        <div *ngFor="let actor of actorsWithinArea">
          <app-small-actor-card [actor]="actor"></app-small-actor-card>
        </div>
        <br />
        <h3>Andra läste också</h3>
        <h4>Checklista för planering av VA-projekt</h4>
        <h4>Processtöd för VA-projekt</h4>
        <h4>Rörnät & klimat</h4>
      </div>
    </div>
  </div>
</div>
